{% extends "layout.html" %}
{% block title %}Workout Templates{% endblock %}
{% block content %}
<h1>Create and Manage Workout Templates</h1>
<form method="POST">
    <label for="name">Template Name:</label>
    <input type="text" name="name" id="name" required><br>

    <div id="exercisesSection">
        <div class="exerciseInput">
            <label for="exercise_1">Exercise:</label>
            <input type="text" name="exercise_name_1" required>
            <label for="sets_1">Sets:</label>
            <input type="number" name="sets_1" required>
            <label for="reps_1">Reps:</label>
            <input type="number" name="reps_1" required>
        </div>
    </div>

    <button type="button" id="addExercise">Add Another Exercise</button><br>
    <button type="submit">Create Template</button>
</form>
<!--
<h2>Existing Templates</h2>
<ul>
    {% for template in templates %}
        <li>
            <a href="{{ url_for('run_workout', template_id=template[0]) }}">{{ template[1] }}</a>
            <form method="POST" action="{{ url_for('delete_template', template_id=template[0]) }}" style="display:inline;">
                <button type="submit">Delete</button>
            </form>
            <form method="GET" action="{{ url_for('edit_template', template_id=template[0]) }}" style="display:inline;">
                <button type="submit">Edit</button>
            </form>
        </li>
    {% endfor %}
</ul>
-->
<script>
    document.getElementById('addExercise').addEventListener('click', function() {
        const exercisesSection = document.getElementById('exercisesSection');
        const exerciseCount = exercisesSection.getElementsByClassName('exerciseInput').length;
        const newExerciseIndex = exerciseCount + 1;

        const newExerciseDiv = document.createElement('div');
        newExerciseDiv.className = 'exerciseInput';
        newExerciseDiv.innerHTML = `
            <label for="exercise_${newExerciseIndex}">Exercise:</label>
            <input type="text" name="exercise_name_${newExerciseIndex}" required>
            <label for="sets_${newExerciseIndex}">Sets:</label>
            <input type="number" name="sets_${newExerciseIndex}" required>
            <label for="reps_${newExerciseIndex}">Reps:</label>
            <input type="number" name="reps_${newExerciseIndex}" required>
        `;
        exercisesSection.appendChild(newExerciseDiv);
    });
</script>
{% endblock %}
